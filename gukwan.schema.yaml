# Rime schema
# encoding: utf-8
#
# gukwan - èŠéŸ»

# æ­¤çˆ²èŠéŸ»ç²µèªè¼¸å…¥æ³•æ–¹æ¡ˆæ–‡ä»¶
# ç­è§£å¦‚ä½•ä½¿ç”¨èŠéŸ»è«‹é–±è¦½readmeæ–‡ä»¶ï¼Œè©³ç´°è«‹è‡³æœ¬æ–¹æ¡ˆgithubé ï¼š
# https://github.com/HoengSaan/rime-gukwan
# This is a schema file for Gukwan Cantonese Input Method.
# Learn how to use Gukwan in the readme file, available on the project's github page.
# åŸºåº•æ–‡ä»¶ åˆ‡å‹¿ç›´æ¥æ”¹å‹•æˆ–åˆªé™¤

schema:
  schema_id: gukwan
  name: èŠéŸ»
  version: "16.2b"
  author:
    éˆå¸ï¼ˆHoengsaanï¼‰
  
  description: |-
    åŸºåº•æ–‡ä»¶ åˆ‡å‹¿ç›´æ¥æ”¹å‹•æˆ–åˆªé™¤
    ç­è§£å¦‚ä½•ä½¿ç”¨èŠéŸ»è«‹é–±è¦½readmeæ–‡ä»¶ï¼Œè©³ç´°è«‹è‡³æœ¬æ–¹æ¡ˆgithubé ï¼šhttps://github.com/HoengSaan/rime-gukwan
    å¦‚æœ‰å•é¡Œæˆ–å»ºè­°å¯æ–¼ä»¥ä¸Šgithubé ä¸­é–‹Issuesåé¥‹

menu:
  page_size: 10  # å€™é¸æ•¸é‡

style:
  style/font_point: 16     # å­—è™Ÿ

# ä¾è³´ è«‹ç¢ºä¿é–£ä¸‹å·²å®‰è£ä»¥ä¸‹æ–¹æ¡ˆ
  dependencies:
    - jyut6ping3
    - luna_pinyin
    - cangjie5
    - kunyomi
    - loengfan
    - kanas
    - kaomoji
    - kikwin
    - gukwan-melt-eng

# é–‹é—œ "reset: 0" é»˜èªç¬¬ä¸€é¸é … "reset: 1" é»˜èªç¬¬äºŒé¸é … ç„¡resetå³ä¿ç•™ä¹‹å‰ç‹€æ…‹
switches:
  - name: ascii_mode
    reset: 0
    states: [ ç²µæ–‡, è‹±æ–‡ ]
  - name: full_shape
    reset: 0
    states: [ åŠè§’, å…¨è§’ ]
  - name: simplification
    reset: 0
    states: [ æ·±ç­†, ç°¡ç­† ] 
    abbrev: [ ç¹, ç°¡ ]
  - name: ascii_punct
    reset: 0
    states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]
  - name: emoji_cantonese_suggestion
    reset: 1
    states: [ ç„¡âœ–, æœ‰ğŸ”´ ]
 
engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - affix_segmentor@jyut6ping3            # å»£å·è©±ç²µæ‹¼åæŸ¥
    - affix_segmentor@luna_pinyin           # æ™®é€šè©±æ‹¼éŸ³åæŸ¥
    - affix_segmentor@cangjie5              # å€‰é ¡äº”ä»£åæŸ¥
    - affix_segmentor@kunyomi               # å’Œèªè¨“è®€åæŸ¥
    - affix_segmentor@loengfan              # å»£å·è©±å…©åˆ†åæŸ¥
    - affix_segmentor@kanas                 # å‡åè¼¸å…¥
    - affix_segmentor@kaomoji               # é¡æ–‡å­—è¼¸å…¥
    - affix_segmentor@kikwin                # å’Œèªè¼¸å…¥
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - script_translator
    - script_translator@jyut6ping3          # å»£å·è©±ç²µæ‹¼åæŸ¥
    - script_translator@luna_pinyin         # æ™®é€šè©±æ‹¼éŸ³åæŸ¥
    - table_translator@cangjie5             # å€‰é ¡äº”ä»£åæŸ¥
    - script_translator@kunyomi             # å’Œèªè¨“è®€åæŸ¥
    - script_translator@loengfan            # å»£å·è©±å…©åˆ†åæŸ¥
    - script_translator@kanas               # å‡åè¼¸å…¥
    - script_translator@kaomoji             # é¡æ–‡å­—è¼¸å…¥
    - script_translator@kikwin              # å’Œèªè¼¸å…¥
    - table_translator@gukwan-melt-eng      # è‹±èªæ··æ‰“
    - lua_translator@*unicode               # Unicode
    - lua_translator@*calc_translator       # è¨ˆæ•¸æ©Ÿ
    - lua_translator@*number_gukwan         # æ•¸å­—æ•¸é¡é‡‘é¡è˜‡å·ç¢¼
    - lua_translator@*time_gukwan           # æ—¥æœŸæ™‚é–“
  filters:
    #- lua_filter@*is_in_user_dict          # æ¸¬è©¦ç”¨
    - reverse_lookup_filter@reverse_lookup  # åæŸ¥
    - reverse_lookup_filter@special_typing  # è¼¸å…¥
    - lua_filter@*autocap_filter            # è‡ªå‹•å¤§éš
    - simplifier@emoji_cantonese_suggestion # ç¹ªæ–‡å­—è¼¸å…¥
    - simplifier                            # ç°¡åŒ–
    - lua_filter@*en_spacer                  # è‹±èªè‡ªå‹•ç©ºæ ¼
    - uniquifier                            # å»é‡

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA
  delimiter: " '"
  algebra:
    #ç¯„ä¾‹
    #å»ºè­°åƒæ”·ç¯„ä¾‹è‡ªè¡Œèª¿æ•´ï¼Œè¡¨å…§ç„¡æ•¬è«‹è‡ªè¡Œå¢æ·»ï¼Œéƒ¨åˆ†å­—æˆ–è¦ç”¨å€‹äººå­—åº«ã€‚
    #åˆªé™¤è¡Œé ­äº•è™Ÿå•“ç”¨è½‰æ›ï¼Œè¡Œé ­éµå…¥äº•è™Ÿåœæ­¢è½‰æ›ã€‚
    
    #è²æ¯ï¼ˆæ ¹æ“šè‡ªå·±å£éŸ³åå¥½èª¿æ ¡å³å¯ï¼‰
    #- derive/^ng([aeiouy])/$1/              # ç–‘æ¯è„«è½(ng->0)
    #- derive/^([aeiou])/ng$1/              # ç–‘å½±ä¸åˆ†(ng==0)
    
    #è²æ¯â€”â€”èŠéŸ»
    - derive/^nr/n/                         #
    - derive/^nr/nj/                        #

    #- derive/^w([aeiou])/v$1/              # å£éŸ³è£œå……ï¼ˆå»ºè­°ç¶­æŒç”¨wï¼‰

    - xform/^hj/j/                          # å£éŸ³è£œå……(hj->j)ï¼šã€Œè³¢ã€è®€è‹¥jinè€… å¤šæ•¸æ–¹éŸ³
    #- xform/^hj/h/                         # å£éŸ³è£œå……(hj->h)ï¼šã€Œè³¢ã€è®€è‹¥hinè€… é †å¾·çŸ³æ­§
    
    #- xform/^wu(i|n|t)(?=\d)/hu$1/         # å¤åŒ£æ¯ä¸€é¡(h)
    #- xform/^wo(m|ng|k)(?=\d)/hwo$1/       # å¤åŒ£æ¯ä¸€é¡(h)
    
    - xform/^hwun(?=\d)/hun$1/              # å¤åŒ£æ¯äºŒé¡(h)ï¼šã€Œæ¡“ã€è®€è‹¥funè€…
    #- xform/^hwun(?=\d)/wun$1/             # å¤åŒ£æ¯äºŒé¡(w)ï¼šã€Œæ¡“ã€è®€è‹¥wunè€…

    - xform/^hu4/wu4/                       # å¤åŒ£æ¯ä¸‰é¡(w)ï¼šã€Œç‹ã€è®€ä½œwu4
    #- xform/^hu6/wu6/                      # å¤åŒ£æ¯ä¸‰é¡(w)ï¼šã€Œè­·ã€è®€ä½œwu6
    
    #è²æ¯â€”â€”åˆ†éŸ»
    - derive/^(z|c|s)jy(?=\d)/$1y/          # å¸«éŸ»ä¸åˆ†ç²¾ç…§
    - derive/^(z|c|s)hy(?=\d)/$1y/          # å¸«éŸ»ä¸åˆ†ç²¾ç…§
    - derive/^ngiuk/njuk/                   # ç–‘æ¯é½¶åŒ–(ngiuk->njuk)
    - derive/^ngiong/njong/                 # ç–‘æ¯é½¶åŒ–(ngiong->njong)
    - derive/^ngi/nji/                      # ç–‘æ¯é½¶åŒ–(ngi->nji)
    - derive/^ngy/njy/                      # ç–‘æ¯é½¶åŒ–(ngy->njy)
    - derive/^ngw/w/                        # ç–‘åˆè„«è½(ngw->w)
    - derive/^ngun(?=\d)/wun$1/             # ç–‘åˆè„«è½(ngw->w)
    - derive/^kwing(?=\d)/king$1/
    - derive/^hwing(?=\d)/hing$1/
    - derive/^hw(?!ing)/f/                  # æ›‰åˆè¼•è„£(hw->f)
    - derive/^hu/fu/                        # æ›‰åˆè¼•è„£(hw->f)

    #è²æ¯â€”â€”å¢å»£
    #- derive/^hw/w/                        # ç¤ºç¯„ï¼šã€ŒèŠ±ã€è®€ä½œwaa
    #- derive/^j(i|y)/h$1                   # ç¤ºç¯„ï¼šã€Œä»¥ã€è®€ä½œhi
    
    #éŸ»æ¯
    - xform/iau(?=\d)/au/                   # æµæ”ä¸‰ç­‰(iau->au)

    - derive/eau(?=\d)/au/                  # åˆéŸ³
    - derive/eau(?=\d)/ou/                  # åˆéŸ³
    - xform/io(?=\d)/oe/                    # (io->oe)
    - xform/jo(?=\d)/joe/                   # (jo->oe)
    - xform/uo(?=\d)/oe/                    # (uo->oe)
    - xform/uo(n|t)(?=\d)/oe$1/             # (uo->oe)

    #éŸ»æ¯â€”â€”åˆ†éŸ»ï¼ˆéç¾ä»£éŸ³å»ºè­°ç¶­æŒï¼‰
    - derive/yo(?=\d)/yu/                   # é‡é–‹åˆ†éŸ»(yo->yu)
    - derive/yi(?=\d)/ui/                   # èŸ¹åˆåˆ†éŸ»(yi->ui)
    
    #éŸ»æ¯â€”â€”ç¾ä»£
    #å…¶ä»–å£éŸ³è«‹è‡ªè¡Œèª¿æ ¡ ä¸å»ºè­°é—œé–‰æ‰“å­—è¼”åŠ©

    - xform/ooy(?=\d)/ooi/                  # èŸ¹åˆä¸‰(ooy->ooi)ï¼šFIX
    - derive/ooy(?=\d)/eoy/                 # èŸ¹åˆä¸‰(ooy->eoy)ï¼šã€Œé›–ã€è®€è‹¥ceoy
    #- derive/ooy(?=\d)/oi/                 # èŸ¹åˆä¸‰(ooy->oi)ï¼šã€Œé›–ã€è®€è‹¥coi æ–‡è®€å°‘è¦‹ï¼Œä¸€èˆ¬ç™½è®€å…ˆæœ‰
    #- derive/ooy(?=\d)/ui/                 # èŸ¹åˆä¸‰(ooy->ui)ï¼šã€Œé›–ã€è®€è‹¥cui 

    #- derive/ooi(?=\d)/ooy/                # æ­¢åˆéŠ³(ooi->ooy)ï¼šFIX
    - derive/ooi(?=\d)/eoy/                 # æ­¢åˆéŠ³(ooi->eoy)ï¼šã€Œé›–ã€è®€è‹¥ceoy
    #- derive/ooi(?=\d)/oi/                 # æ­¢åˆéŠ³(ooi->oi)ï¼šã€Œé›–ã€è®€è‹¥coi æ–‡è®€å°‘è¦‹ï¼Œä¸€èˆ¬ç™½è®€å…ˆæœ‰
    #- derive/ooi(?=\d)/ui/                 # æ­¢åˆéŠ³(ooi->ui)ï¼šã€Œé›–ã€è®€è‹¥cui 
    
    #- derive/^(b|p|f)i(?=\d)/$1ei/         # æ­¢æ”è£‚åŒ–è„£éŸ³(i->ei) ï¼šã€Œå‚™ã€è®€è‹¥bei
    #- derive/^(d|t|l|n)i(?=\d)/$1ei/       # æ­¢æ”è£‚åŒ–é½’éŸ³(i->ei)ï¼šã€Œåœ°ã€è®€è‹¥dei
    #- derive/^(g|k|h)i(?=\d)/$1ei/         # æ­¢æ”è£‚åŒ–ç‰™éŸ³(i->ei)ï¼šã€Œæ—¢ã€è®€è‹¥gei
    #- derive/^(s)(?!j)i(?=\d)/$1ei/        # æ­¢æ”å¿ƒæ¯ç‰¹éŸ³ï¼ˆç¾ä»£éŸ³è£‚åŒ–å°ˆç”¨ï¼‰ 
    
    - derive/^ngu(?=\d)/ng/                           # é‡é–‹ä¸€å–®ç¨æˆéŸ»(ngu->ng)ï¼šã€Œå³ã€è®€è‹¥ng
    - derive/^(b|p|m|d|t|n|l|z|c|s|sh)u(?=\d)/$1au/   # é‡æ”è£‚åŒ–(u->au)ï¼šã€Œæ¸¡ã€è®€è‹¥dau
    #- derive/^(b|p|m|d|t|n|l|z|c|s|sh)u(?=\d)/$1ou/  # é‡æ”è£‚åŒ–(u->ou)ï¼šã€Œæ¸¡ã€è®€è‹¥dou
    #- derive/^(b|p|m|d|t|n|l|z|c|s|sh)u(?=\d)/$1o/   # é‡æ”è£‚åŒ–(u->o)ï¼šã€Œæ¸¡ã€è®€è‹¥do
    
    - derive/^(z|c|s|n|l)yo(?=\d)/$1eoy/    # é‡é–‹ä¸‰(yo->eoy)ï¼šã€Œæ—…ã€è®€è‹¥leoy
    #- derive/^(g|k|h)yo(?=\d)/$1eoy/       # é‡é–‹ä¸‰(yo->eoy)ï¼šã€Œå»ã€è®€è‹¥heoy
    
    - derive/^(z|c|n|l)yu(?=\d)/$1eoy/      # é‡åˆä¸‰è£‚åŒ–(yu->eoy)ï¼šã€Œèšã€è®€è‹¥zeoy
    #- derive/^(s)yu(?=\d)/$1eoy/           # é‡åˆä¸‰è£‚åŒ–(yu->eoy)ï¼šã€Œé ˆã€è®€è‹¥seoy
    #- derive/^(g|k|h)yu(?=\d)/$1eoy/       # é‡åˆä¸‰è£‚åŒ–(yu->eoy)ï¼šã€Œå·¨ã€è®€è‹¥geoy
    
    - derive/^(z|c)yi(?=\d)/$1eoy/          # èŸ¹åˆä¸€(yi->eoy)ï¼šã€Œæœ€ã€è®€è‹¥zeoy
    #- derive/^(s)yi(?=\d)/$1eoy/           # èŸ¹åˆä¸€(yi->eoy)ï¼šã€Œç¢ã€è®€è‹¥seoy
    #- derive/^(s)yi(?=\d)/$1yu/            # èŸ¹åˆä¸€(yi->yu)ï¼šã€Œç¢ã€è®€è‹¥syu
    #- derive/^(d|t|n|l)yi(?=\d)/$1yu/      # èŸ¹åˆä¸€(yi->yu)ï¼šã€Œå°ã€è®€è‹¥dyu
    #- derive/yi(?=\d)/eoy/                 # èŸ¹åˆä¸€(yi->eoy)ï¼šçš†è®€ä½œeoyè€…å¯ç”¨ï¼Œå…¶ä»–é—œé–‰
    #- derive/yi(?=\d)/yu/                  # èŸ¹åˆä¸€(yi->yu)ï¼šçš†è®€ä½œyuè€…å¯ç”¨ï¼Œå…¶ä»–é—œé–‰
    
    #- xform/yo(?=\d)/yu/                   # FIXï¼ˆç¾ä»£éŸ³ç”¨ï¼‰
    
    #- xform/^(z|c|s|zh|ch|sh)y(?=\d)/i/    # æ­¢æ”å¸«éŸ»å±•è„£(y->i) ï¼šã€Œå¸«ã€è®€è‹¥si
    #- derive/^(z|c|s|zh|ch|sh)y(?=\d)/yu/  # æ­¢æ”å¸«éŸ»åœ“è„£(y->yu)ï¼šã€Œä»•ã€è®€è‹¥syu 
    #- derive/^(z|c|s)ji(?=\d)/$1ii/        # æ­¢é–‹ç…§çµ„ç•°æ‹¼(ji->ii)
    
    #- derive/eo(n|t)(?=\d)/a$1/            # è‡»æ”æ··éŸ³(ea->a)ï¼šã€Œé †ã€è®€è‹¥san å¤šåªè¦‹æ–¼ç™½è®€éŸ³
    
    - derive/ou(?=\d)/o$1/                  # æ•ˆä¸€å…ƒéŸ³èåˆ(ou->o)ï¼šã€Œé«˜ã€è®€è‹¥go
    #- derive/ou(?=\d)/au$1/                # æ•ˆä¸€å…ƒéŸ³(ou->au)ï¼šã€Œé«˜ã€è®€è‹¥gau
    
    - derive/ia(?=\d)/e$1/                  # æœå‡å…ƒéŸ³èåˆ(ia->e)ï¼šã€Œè»Šã€è®€è‹¥ce
    - derive/jaa(?=\d)/je$1/                # æœå‡å…ƒéŸ³èåˆ(jaa->je)ï¼šã€Œé‡ã€è®€è‹¥je
    
    - derive/oo(ng|k)/o$1/                  # å®•æ”é–‹å£(oo->o)ï¼šã€Œå„ã€è®€è‹¥gok
    - derive/io(ng|k)/oe$1/                 # å®•æ”æ±Ÿæ”å…ƒéŸ³èåˆ(io->oe) ï¼šã€Œé‡ã€è®€è‹¥loeng
    - derive/jo(ng|k)/joe$1/                # å®•æ”æ±Ÿæ”å…ƒéŸ³èåˆ(jo->joe) ï¼šã€Œå¤®ã€è®€å¤®joeng
    
    - derive/ae(u|n|m|t|p)(?=\d)/aa$1/      # å±±æ•ˆå’¸æ–‡(ae->aa)ï¼šã€Œé—œã€è®€è‹¥gwaan
    - derive/ae(u|n|m|t|p)(?=\d)/e$1/       # å±±æ•ˆå’¸ç™½(ae->e)ï¼šã€Œé—œã€è®€è‹¥gwen å¤šåªè¦‹æ–¼ç™½è®€éŸ³
    
    - derive/o(m|p)(?=\d)/a$1/              # å’¸æ”éŸ³è®Š(o->a)ï¼šã€Œç”˜ã€è®€è‹¥gam

    #è²æ¯â€”â€”ç¾ä»£
    - derive/^(z|c|s)h/$1/                 # ç²¾ç…§åˆæµ(zh->z)
    - derive/^(zj|cj|sj)yo(?=\d)/$1yu/     # ç²¾ç…§åˆæµ
    - derive/^(z|c|s)j(?!yo)/$1/           # ç²¾ç…§åˆæµ(ch->c)
    - derive/^(z|c)r/$1/                   # ç²¾ç…§åˆæµ(sj->s)
    #- derive/^nj/j/                        # æ—¥ä»¥åˆæµ(nj->j)

    #FIX
    #- derive/^n(?!g|j)/l/                  # æ³¥ä¾†åˆæµ(n->l)
    #- derive/^t/h/                         # é€æ›‰åˆæµ(t->h) å°æ¬–éƒ¨ä»½
    - xform/^xaa(?=\d)/jaa$1/
    - xform/I(?=\d)/i$1/                    # å¤–ä¾†èª
    #- derive/^(g|k)wo/$1o/                 # å£éŸ³è£œå……(gwo->go)ï¼šé‡oä¸åˆ†
    #- derive/^(g|k)wo(?=\d)/$1o/           # å£éŸ³è£œå……(gwo->go)ï¼šé‡å–®oä¸åˆ†
    #- derive/^(g|k)w/$1/                   # å£éŸ³è£œå……(gk[!w])ï¼šå®Œå…¨ä¸èƒ½åˆ†è¾¨è„£åŒ–è²æ¯è€…

    #éŸ»æ¯â€”â€”é•·çŸ­éŸ³æ··
    #- derive/ap(?=\d)/aap$1/               # apåŒaapæ·· 
    #- derive/at(?=\d)/aat$1/               # atåŒaatæ··
    #- derive/ak(?=\d)/aak$1/               # akåŒaakæ·· å°æ¬–å¤šæ•¸
    #- xform/ak(?=\d)/aak$1/                # akåŒaakæ·· å°æ¬–è€æ´¾
    #- derive/ai(?=\d)/aai$1/               # aiåŒaaiæ··
    #- derive/ang(?=\d)/an$1/               # anåŒangæ·· 
    
    #éŸ»æ¯â€”â€”å¢å»£
    #- derive/y(?=\d)/i$1/                  # ã€Œé›¨ã€è®€è‹¥ji
    #- derive/yu(n|t)(?=\d)/i$1/            # ã€Œç©´ã€è®€è‹¥jit
    #- derive/eng(?=\d)/en$1/               # ã€Œé¤…ã€è®€è‹¥ben
    #- derive/ek(?=\d)/et$1/                # ã€ŒåŠˆã€è®€è‹¥pet
    #- derive/o(ng|k)(?=\d)/oe$1/
    #- derive/oe(ng|k)(?=\d)/o$1/
    #- derive/(?!w)o(ng|k)(?=\d)/oe$1/
    #- derive/(?!w)o(ng|k)(?=\d)/yo$1/
    #- derive/(?!w)o(ng|k)(?=\d)/yoe$1/
    #- derive/(?!w)o(ng|k)(?=\d)/yioe$1/
    #- derive/(?!w)o(ng|k)(?=\d)/wa$1/
    #- derive/oo(ng|k)(?=\d)/yo$1/
    #- derive/oo(ng|k)(?=\d)/ioe$1/
    #- derive/oo(ng|k)(?=\d)/oe$1/
    #- derive/oo(ng|k)(?=\d)/yoo$1/
    #- derive/oo(ng|k)(?=\d)/yoe$1/
    #- derive/oo(ng|k)(?=\d)/wo$1/
    #- derive/oo(ng|k)(?=\d)/ioe$1/
    #- derive/io(ng|k)(?=\d)/yo$1/
    #- derive/io(ng|k)(?=\d)/wyo$1/
    #- derive/io(ng|k)(?=\d)/yoe$1/
    #- derive/io(ng|k)(?=\d)/ioe$1/
    #- derive/wo(ng|k)(?=\d)/oe$1/
    #- derive/wo(ng|k)(?=\d)/yo$1/
    #- derive/wo(ng|k)(?=\d)/wyo$1/
    #- derive/wo(ng|k)(?=\d)/woe$1/
    #- derive/wo(ng|k)(?=\d)/wyoe$1/
    #- derive/wong(?=\d)/woeng$1/
    #- derive/wok(?=\d)/oek$1/
    #- derive/wong(?=\d)/wyoeng$1/
    #- derive/wok(?=\d)/oek$1/
    #- derive/oi(?=\d)/uoi$1/
    #- derive/oi(?=\d)/uai$1/

    #- derive/u(n|t)(?=\d)/o$1/
    #- derive/u(n|t)(?=\d)/i$1/

    #éŸ»å°¾
    #æ ¹æ“šè‡ªå·±å£éŸ³åå¥½èª¿æ ¡

    #- derive/^ng([?=\d])$/m$1/             # é¼»éŸ³ç¯€æ··(ng->m)ï¼šã€Œå””ã€ã€Œå³ã€ä¸åˆ†
    #- derive/ng([?=\d])$/n$1/              # éŸ»å°¾ç°¡åŒ–(ng->n)ï¼šã€Œæ†ç”Ÿã€è®Šã€Œç—•èº«ã€
    #- derive/m([?=\d])$/n$1/               # éŸ»å°¾ç°¡åŒ–(m->n)ï¼šã€Œå¿ƒã€ã€Œæ–°ã€ä¸åˆ†
    #- derive/p([?=\d])$/t$1/               # å…¥è²å¼±åŒ–(p->t)ï¼šã€Œå…¥ã€ã€Œæ—¥ã€ä¸åˆ†
    #- derive/k([?=\d])$/t$1/               # å…¥è²å¼±åŒ–(k->t)ï¼šã€Œå³ã€è®€è‹¥/tsÉªt/

    #éŸ»å°¾â€”â€”å¢å»£
    #- derive/p([?=\d])$/h$1/               # å…¥è²å¼±åŒ–(p->h)
    #- derive/k([?=\d])$/h$1/               # å…¥è²å¼±åŒ–(k->h)
    #- derive/t([?=\d])$/h$1/               # å…¥è²å¼±åŒ–(t->h)
    
    #å¤å…¨æ¿è²æ¯ä¸é€æ°£
    #- xform/^p([a-z]+)(4|5)/b$1$2/         # è„£éŸ³
    #- xform/^t([a-z]+)(4|5)/d$1$2/         # é½’éŸ³
    #- xform/^k([a-z]+)(4|5)/g$1$2/         # ç‰™éŸ³
    #- derive/^p([a-z]+)(4|5)/b$1$2/        # è„£éŸ³
    #- derive/^t([a-z]+)(4|5)/d$1$2/        # é½’éŸ³
    #- derive/^k([a-z]+)(4|5)/g$1$2/        # ç‰™éŸ³

    #æ¸›ä½æ‰“å­—é€Ÿåº¦ï¼Œå¿ å¯¦å¯¦éš›ç™¼éŸ³ä½†ä¸æ¨è–¦
    #- xform/^m/bb/                         # é¼»éŸ³å¡åŒ–
    #- xform/^n(?!g|j)/dd/                  # é¼»éŸ³å¡åŒ–
    #- xform/^ng/gg/                        # é¼»éŸ³å¡åŒ–
    #- xform/^m/mb/                         # é¼»éŸ³é¼»å¡åŒ–
    #- xform/^n(?!g|j)/nd/                   # é¼»éŸ³é¼»å¡åŒ–
    #- xform/^ng/ngg/                       # é¼»éŸ³é¼»å¡åŒ–

    #æ‰“å­—è¼”åŠ©
    #æ­£å¸¸æƒ…æ³ä¸‹æ¯‹é ˆéƒå‹•ï¼Œå¯æ ¹æ“šè‡ªå·±å–œå¥½èª¿æ ¡ã€‚

    #æ‰“å­—è¼”åŠ©â€”â€”ç…§çµ„hæ‹¼æ³•
    - derive/^(z|c|s|n)j/$1h/               # æ‰“å­—è¼”åŠ©Açµ„(-j->-h) å»£éŸ»ç« çµ„ï¼ˆhæ‹¼æ³•ï¼‰
    - derive/^(z|c)r/$1h/                   # æ‰“å­—è¼”åŠ©Açµ„(-r->-h) å»£éŸ»çŸ¥çµ„ï¼ˆhæ‹¼æ³•ï¼‰
    - derive/^(z|c|s)jiong/$1jong/          # æ‰“å­—è¼”åŠ©Açµ„
    - derive/^(z|c|s)jia/$1ja/              # æ‰“å­—è¼”åŠ©Açµ„

    #æ‰“å­—è¼”åŠ©â€”â€”ç…§çµ„jæ‹¼æ³•
    #- derive/^(z|c|s)h/$1j/                # æ‰“å­—è¼”åŠ©Bçµ„(-h->-j) å»£éŸ»èŠçµ„ï¼ˆjæ‹¼æ³•ï¼‰
    #- derive/^(z|c)r/$1j/                  # æ‰“å­—è¼”åŠ©Bçµ„(-r->-j) å»£éŸ»çŸ¥çµ„ï¼ˆjæ‹¼æ³•ï¼‰
    
    #æ‰“å­—è¼”åŠ©â€”â€”å¢å»£
    #- derive/^dr/zr/                       # æ‰“å­—è¼”åŠ©(dr->zr) å»£éŸ»çŸ¥çµ„
    #- derive/^tr/cr/                       # æ‰“å­—è¼”åŠ©(tr->cr) å»£éŸ»çŸ¥çµ„
    #- derive/^dj/cr/                       # æ‰“å­—è¼”åŠ©(dj->zr) å»£éŸ»çŸ¥çµ„
    #- derive/^tj/cr/                       # æ‰“å­—è¼”åŠ©(tj->cr) å»£éŸ»çŸ¥çµ„
    #- derive/^s([aeiouy])/sl$1/            # æ‰“å­—è¼”åŠ©(s->sl) æ–¹è¨€éŸ³ åƒæ”·
    #- derive/^s(h|j)/s$1/                  # æ‰“å­—è¼”åŠ©(sh->s) æ–¹è¨€éŸ³ åƒæ”·

    #ç•°æ‹¼
    #æ­£å¸¸æƒ…æ³ä¸‹æ¯‹é ˆéƒå‹•ï¼Œå¯æ ¹æ“šè‡ªå·±å–œå¥½èª¿æ ¡
    
    - derive/eoy(?=\d)/eoi/                 # ç²µæ‹¼(eoy->eoi)
    #- derive/^z/dz/                        # æ•™é™¢æ‹¼éŸ³
    #- derive/^c/ts/                        # æ•™é™¢æ‹¼éŸ³
    #- derive/y(?=\d)/z/                    # è‹±è¯æ‹¼æ³•(y->z)
    #- derive/y(?=\d)/ii/                   # æ“´å±•ç²µæ‹¼(y->ii)

    #å…¨æ‹¼
    #- derive/(g|k|h|ng)u/$1wu/             # å…¨æ‹¼(g|k|h[w]u)
    #- derive/(g|k|h|ng)y/$1wy/             # å…¨æ‹¼(g|k|h[w]y)
    #- derive/^ngy/ngjy/                    # å…¨æ‹¼(ng[j]y)
    - derive/^jaa(?=\d)/jia$1/              # å…¨æ‹¼(j[i]aa)
    - derive/^jo(ng|k)/jio$1/               # å…¨æ‹¼(j[i]o)
    - derive/^njaa(?=\d)/njia$1/            # å…¨æ‹¼(j[i]aa)
    - derive/^njo(ng|k)/njio$1/             # å…¨æ‹¼(j[i]o)
    #- derive/ia(?=\d)/iaa$1/               # å…¨æ‹¼(ia[a])
    
    #ç°¡æ‹¼ï¼ˆä¸‰æ‹¼ï¼‰
    - derive/^kw/q/                         # ç°¡æ‹¼(kw->q)
    #- derive/^gw/q/                        # ç°¡æ‹¼(gw->q)
    #- derive/^kw/x/                        # ç°¡æ‹¼(kw->q)
    - derive/^gw/x/                         # ç°¡æ‹¼(gw->q)
    - derive/^nj/r/                         # ç°¡æ‹¼(nj->r)
    - derive/^ng([aeiouy])/r$1/             # ç°¡æ‹¼(ng->r)
    - derive/([aeiouy])ng/$1r/              # ç°¡æ‹¼(ng->r)

    - derive/aa(?=\d)/a/                    # ç°¡æ‹¼(aa->a)
    - derive/aa(i|u|m|n|ng|p|t|k|r)/r$1/    # ç°¡æ‹¼(aa->r)
    - derive/^jy?([aeiou])/y$1/             # ç°¡æ‹¼(jy->y)
    - derive/yu(?!ng|k)/y/                  # ç°¡æ‹¼(yu->y)
    - derive/oe(ng|k|r)/e$1/                # ç°¡æ‹¼(oe->e)
    - derive/eo(n|t|i|y)/u$1/               # ç°¡æ‹¼(eo->u)
    - derive/oo(i|y)/u$1/                   # ç°¡æ‹¼(oo->u)

    #ç°¡æ‹¼
    - derive/^wu/u/                         # ç°¡æ‹¼(wu->u)
    - derive/^nji/nj/                       # ç°¡æ‹¼(ji->j)
    - derive/^ji/j/                         # ç°¡æ‹¼(ji->j)

    #æ¨¡ç³Š
    - derive/eo/oe/                         # æ¨¡ç³Š(eo/oe)
    - derive/oe/eo/                         # æ¨¡ç³Š(eo/oe)

    #é¦–å­—æ¯å‡ºå­—ï¼ˆä¸è€ƒæ…®ç•°æ‹¼ï¼Œç¾ä»£éŸ³åªéœ€ç¬¬ä¸€æ¢ï¼‰

    - abbrev/^([a-z]).+$/$1/
    - abbrev/^(n[gj]).+$/$1/
    - abbrev/^([gkh]w).+$/$1/
    - abbrev/^([zcs][h]).+$/$1/
    - abbrev/^([zcsn][j]).+$/$1/
    - abbrev/^([zc][r]).+$/$1/

    #è²èª¿ï¼ˆå‹¿å‹•ï¼‰

    - derive/\d//                           # å¿½ç•¥è²èª¿
    - xform/1/v/                            # é™°å¹³
    - xform/4/vv/                           # é™½å¹³
    - xform/2/x/                            # é™°ä¸Š
    - xform/5/xx/                           # é™½ä¸Š
    - xform/3/q/                            # é™°å»
    - xform/6/qq/                           # é™½å»

translator:
  dictionary: gukwan-extended
  initial_quality: 1.2
  spelling_hints: 9
  preedit_format:
    - xform/([aeiouymngptk])vv/${1}4/
    - xform/([aeiouymngptk])xx/${1}5/
    - xform/([aeiouymngptk])qq/${1}6/
    - xform/([aeiouymngptk])v/${1}1/
    - xform/([aeiouymngptk])x/${1}2/
    - xform/([aeiouymngptk])q/${1}3/

jyut6ping3:
  tag: jyut6ping3
  dictionary: jyut6ping3
  enable_user_dict: false
  prefix: "`"
  suffix: ";"
  tips: ã€”ç²µæ‹¼ã€•
  preedit_format:
    - xform/([aeiouymngptk])vv/${1}4/
    - xform/([aeiouymngptk])xx/${1}5/
    - xform/([aeiouymngptk])qq/${1}6/
    - xform/([aeiouymngptk])v/${1}1/
    - xform/([aeiouymngptk])x/${1}2/
    - xform/([aeiouymngptk])q/${1}3/

luna_pinyin:
  tag: luna_pinyin
  dictionary: luna_pinyin
  enable_user_dict: false
  prefix: "`P"
  suffix: ";"
  tips: ã€”æ™®æ‹¼ã€•
  preedit_format:
    - xform/([nl])v/$1Ã¼/
    - xform/([nl])ue/$1Ã¼e/
    - xform/([jqxy])v/$1u/

cangjie5:
  tag: cangjie5
  dictionary: cangjie5
  enable_user_dict: false
  prefix: "`C"
  suffix: ";"
  tips: ã€”å€‰é ¡ã€•
  preedit_format:
    - 'xform/^([a-z]*)$/$1\tï¼ˆ\U$1\Eï¼‰/'
    - "xlit|ABCDEFGHIJKLMNOPQRSTUVWXYZ|æ—¥æœˆé‡‘æœ¨æ°´ç«åœŸç«¹æˆˆåå¤§ä¸­ä¸€å¼“äººå¿ƒæ‰‹å£å°¸å»¿å±±å¥³ç”°é›£åœç¬¦|"
  comment_format:
    - "xlit|abcdefghijklmnopqrstuvwxyz~|æ—¥æœˆé‡‘æœ¨æ°´ç«åœŸç«¹æˆˆåå¤§ä¸­ä¸€å¼“äººå¿ƒæ‰‹å£å°¸å»¿å±±å¥³ç”°é›£åœç¬¦ï½|"
  disable_user_dict_for_patterns:
    - "^z.*$"
    - "^yyy.*$"

kunyomi:
  tag: kunyomi
  dictionary: kunyomi
  enable_user_dict: false
  prefix: "`F"
  suffix: ";"
  tips: ã€”å’Œè¨“ã€•

loengfan:
  tag: loengfan
  dictionary: loengfan
  enable_user_dict: false
  prefix: "`L"
  suffix: ";"
  tips: ã€”å…©åˆ†ã€•

reverse_lookup:
  tags: [ jyut6ping3, luna_pinyin, cangjie5, kunyomi, loengfan ]
  overwrite_comment: false
  dictionary: gukwan

kanas:
  tag: kanas
  dictionary: kanas
  enable_user_dict: false
  prefix: "`G"
  suffix: ";"
  tips: ã€”å‡åã€•

kaomoji:
  tag: kaomoji
  dictionary: kaomoji
  enable_user_dict: false
  prefix: "`K"
  suffix: ";"
  tips: ã€”é¡”æ–‡å­—ã€•

kikwin:
  tag: kikwin
  dictionary: kikwin
  enable_user_dict: false
  prefix: "`R"
  suffix: ";"
  tips: ã€”å’Œæ–‡ã€•

special_typing: 
  tags: [ kanas, kaomoji, kikwin ]
  overwrite_comment: false

gukwan-melt-eng:
  dictionary: gukwan-melt-eng 
  enable_sentence: false
  enable_user_dict: false
  initial_quality: 1.1
  comment_format:
    - xform/.*//

emoji_cantonese_suggestion:
  opencc_config: emoji_cantonese.json
  option_name: emoji_cantonese_suggestion
  tips: all
  inherit_comment: true

punctuator:
  import_preset: symbols-gukwan

key_binder:
  import_preset: default

# åŠŸèƒ½
recognizer:
  import_preset: default
  patterns:
    punct: "^/([0-9]0?|[a-z]+)$"
    jyut6ping3: "^`[a-z']*;?$"
    luna_pinyin: "^`P[a-z']*;?$"
    cangjie5: "^`C[a-z]*;?$"
    kunyomi: "^`F[a-z']*;?$"
    loengfan: "^`L[a-z']*;?$"
    kanas: "^`G[a-zA-Z-]*;?$"
    kaomoji: "^`K[a-z-]*;?$"
    kikwin: "^`R[a-z-]*;?$"
    unicode: "^U[a-f0-9]+"
    number: "^S[0-9]+[.]?[0-9]*"
    calculator: "^cC.+"
    gregorian_to_lunar: "^N[0-9]{1,8}"

## æ¸¬è©¦ç”¨
is_in_user_dict: false