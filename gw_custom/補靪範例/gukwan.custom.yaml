# gukwan.schema.yaml

# èŠéŸ»è£œéªç¯„ä¾‹
# ç­è§£å¦‚ä½•ä½¿ç”¨èŠéŸ»è«‹é–±è¦½readmeæ–‡ä»¶ï¼Œè©³ç´°è«‹è‡³æœ¬æ–¹æ¡ˆgithubé ï¼š
# https://github.com/HoengSaan/rime-gukwan
# This is a patch template for Gukwan Cantonese Input Method.
# Learn how to use Gukwan in the readme file, available on the project's github page. 

# æ–¹æ¡ˆ
patch:
  # æ›´æ”¹é–‹é—œ
  switches:
    - name: ascii_mode
      states: [ ç²µæ–‡, è‹±æ–‡ ]
    - name: full_shape
      reset: 0
      states: [ åŠè§’, å…¨è§’ ]
    - name: simplification
      reset: 0
      states: [ æ·±ç­†, ç®€ç¬” ] 
      abbrev: [ ç¹, ç®€ ]
    - name: hans_jp
      reset: 0
      states: [ èˆŠå­—, æ–°å­— ]
      abbrev: [ èˆŠ, æ–° ]
    - name: ascii_punct
      reset: 0
      states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]
    - name: emoji_cantonese_suggestion
      reset: 0
      states: [ ç„¡ç¹ª, æœ‰ç¹ª ]
      abbrev: [ ğŸ™, ğŸ˜„ ]
    - name: prediction
      reset: 0
      states: [ ç›´å‡º, é æ¸¬ ]
      abbrev: [ ç›´, æ¸¬ ]
  
  engine/filters:
    - lua_filter@*is_in_user_dict
    - reverse_lookup_filter@reverse_lookup  # åæŸ¥
    - reverse_lookup_filter@special_typing  # è¼¸å…¥
    - lua_filter@*autocap_filter            # è‡ªå‹•å¤§éš
    - simplifier@emoji_cantonese_suggestion # ç¹ªæ–‡å­—è¼¸å…¥
    - simplifier@hant_hk                    # é¦™æ¸¯ç¹é«”
    - simplifier@hant_tw                    # è‡ºç£æ­£é«”
    - simplifier@hans_jp                    # æ—¥æœ¬æ–°å­—é«”
    - simplifier                            # å¤§é™¸ç°¡é«”
    - lua_filter@*en_spacer                 # è‹±èªè‡ªå‹•ç©ºæ ¼
    - lua_filter@*text_formatting           # æ¢è¡Œ:\n, åˆ¶è¡¨ç¬¦ï¼š\t, å›è»Šç¬¦ï¼š\r, ç©ºæ ¼ï¼š\s
    - uniquifier                            # å»é‡
  
  is_in_user_dict: true

  # èª¿ç”¨å®šè£½æ“´å±•è©åº«
  translator/dictionary: gukwan-extended

  # é æ¸¬ï¼ˆé›»è…¦ä¸å»ºè­°é–‹å•“ï¼‰
  # librime-predict ç°¡é«”å¯è€ƒæ…®ç”¨ wanxiang-lts-zh-predict.db
  # https://github.com/rime/librime-predict
  engine/processors/@before 0: predictor
  engine/translators/@before 0: predict_translator
  predictor:
    db: predict.db
    max_candidates: 10 # æœ€å¤§é æ¸¬å€™é¸æ•¸ï¼Œå¦‚ä¸æƒ³ç¿»é å‰‡è«‹åŒ page_size ä¿æŒä¸€è‡´
    max_iterations: 1 # é æ¸¬æ¬¡æ•¸ï¼Œ0 å³ç„¡é™é æ¸¬

  # èªæ³•æ¨¡å‹
  # rime-octagram ç°¡é«”å¯è€ƒæ…®ç”¨ RIME-LMDG 
  # https://github.com/lotem/rime-octagram-data/tree/hant
  grammar:
    language: zh-hant-t-essay-bgw
  translator/contextual_suggestions: true
  translator/max_homophones: 7
  translator/max_homographs: 7